# Generated by confd
filter calico_pools {
  calico_aggr();
  custom_filters();
{{range ls "/pool"}}{{$data := json (getv (printf "/pool/%s" .))}}
  if ( net ~ {{$data.cidr}} ) then {
    accept;
  }
{{end}}
  reject;
}

filter calico_ipip {
{{range ls "/pool"}}{{$data := json (getv (printf "/pool/%s" .))}}{{if $data.ipip}}
  if ( net ~ {{$data.cidr}} ) then {
    krt_tunnel = "{{$data.ipip}}";
    accept;
  }
{{end}}{{end}}
  accept;
}
