02 May 2025

#### Headline feature 1

#### Headline feature 2

#### Bug fixes

- Fix potential nil pointer access in confd [calico 10177](https://github.com/projectcalico/calico/pull/10177) (@fasaxc)
- Fix up various spammy warning logs. [calico 10176](https://github.com/projectcalico/calico/pull/10176) (@fasaxc)
- Fix that BPF-based conntrack cleaner would expire DSR entries too soon due to missing type check. [calico 9957](https://github.com/projectcalico/calico/pull/9957) (@fasaxc)
- Fix missing RBAC permissions for kube-controller-manager to access tiers in manifest installs, which was preventing proper resource garbage collection. [calico 9879](https://github.com/projectcalico/calico/pull/9879) (@caseydavenport)
- Fixed tiers RBAC for calicoctl when it runs as a k8s pod. [calico 9822](https://github.com/projectcalico/calico/pull/9822) (@lucastigera)
- Fix: Map OpenStack-derived policy to the "default" tier, not "ossg". [calico 9777](https://github.com/projectcalico/calico/pull/9777) (@nelljerram)
- Fix that netlink list operations could fail with "device or resource busy" errors when under load resulting in Felix restarting. [calico 9769](https://github.com/projectcalico/calico/pull/9769) (@fasaxc)
- Fix incorrect comment for TCPResetSeen. [calico 9759](https://github.com/projectcalico/calico/pull/9759) (@ioworker0)
- Fix route programming for VXLAN tunnel IPs assigned from a /32 or /128 IPAM block. [calico 9698](https://github.com/projectcalico/calico/pull/9698) (@caseydavenport)
- Fix spammy Tier already exists message from kube-controllers. [calico 9670](https://github.com/projectcalico/calico/pull/9670) (@fasaxc)
- Fix that nodes with borrowed VXLAN tunnel addresses were not reachable by pods. [calico 9662](https://github.com/projectcalico/calico/pull/9662) (@caseydavenport)
- Fix nftables mode for arm64 including wrong libnftnl version [calico 9657](https://github.com/projectcalico/calico/pull/9657) (@caseydavenport)
- Fixed file handle leak in felix, caused by failing to close netlink handles. [calico 9609](https://github.com/projectcalico/calico/pull/9609) (@sridhartigera)
- Fix that libcalico-go would not always fill in the revision when listing certain resources (or single instances of certain resources).  This could result in missed watch events in components such as Typha. [calico 9599](https://github.com/projectcalico/calico/pull/9599) (@fasaxc)
- Fix that non-amd64 builds of node-driver-registrar contained x86 binaries. [calico 9594](https://github.com/projectcalico/calico/pull/9594) (@caseydavenport)
- Fix that in-use VXLAN ARP entries could be repeatedly cleaned up and then re-added if they shared a MAC address with an stale entry that was supposed to be cleaned up. [calico 9576](https://github.com/projectcalico/calico/pull/9576) (@fasaxc)
- Fix that the new tiers resource was omitted from etcd->Kubernetes migration. [calico 9493](https://github.com/projectcalico/calico/pull/9493) (@fasaxc)
- Fix a panic in Felix when accessing a nil address in flushing host addresses, i.e. flushHostIPUpdates function. [calico 9466](https://github.com/projectcalico/calico/pull/9466) (@cyclinder)
- Fix that single-IP entries on BGPConfiguration serviceExternalIPs were not advertised according to external traffic policy. [calico 9422](https://github.com/projectcalico/calico/pull/9422) (@tanujd11)
- Fix missing routes when vxlan mode is cross-subnet and the environment is purely V6 (no V4 host addresses) [calico 9416](https://github.com/projectcalico/calico/pull/9416) (@tomastigera)
- Fix spurious warning about unexpected inserted rules. [calico 9393](https://github.com/projectcalico/calico/pull/9393) (@fasaxc)
- Fixed memory leak in BPF endpoint manager. [calico 9307](https://github.com/projectcalico/calico/pull/9307) (@sridhartigera)
- Fix a bug where pods with flexvol/nodeagent volumes would get stuck in the Terminating phase, if, during termination, their node rebooted. [calico 9279](https://github.com/projectcalico/calico/pull/9279) (@aaaaaaaalex)
- fix image in flannel migration manifest [calico 9263](https://github.com/projectcalico/calico/pull/9263) (@radTuti)
#### Other changes

#### ebpf
- ebpf - Fix configuring arp entries for bpf NAT devices for systemd >= 242 [calico 10209](https://github.com/projectcalico/calico/pull/10209) (@sridhartigera)
- eBPF - Fixed a bug where BPF programs were being re-attached to network interfaces unnecessarily, even when the host IP address had not changed. [calico 10163](https://github.com/projectcalico/calico/pull/10163) (@sridhartigera)
- ebpf: fix cleanup of UDP service entries when a service gets (re)created [calico 10098](https://github.com/projectcalico/calico/pull/10098) (@tomastigera)
- ebpf - Fix dropping packets from workloads to host interfaces not managed by calico. [calico 10085](https://github.com/projectcalico/calico/pull/10085) (@sridhartigera)
- ebpf: treat conns with both FINs as finished in flowlogs, do not wait until conntrack is to be removed. [calico 9838](https://github.com/projectcalico/calico/pull/9838) (@tomastigera)
- ebpf: fix icmp error delivery to host networked pods [calico 9747](https://github.com/projectcalico/calico/pull/9747) (@tomastigera)
- ebpf: conntrack table doubles in size if it is running out of space [calico 9732](https://github.com/projectcalico/calico/pull/9732) (@tomastigera)
- ebpf: adjust the default value to the value from the actual map when dumping the conntrack map in calico-bpf [calico 9704](https://github.com/projectcalico/calico/pull/9704) (@ioworker0)
- ebpf: conntrack more resistant to spurious RSTs [calico 9692](https://github.com/projectcalico/calico/pull/9692) (@tomastigera)
- ebpf: conntrack timers are configurable, closed TCP connections are closed now by default after /proc/sys/net/netfilter/nf_conntrack_tcp_timeout_time_wait seconds (120 by default) up from 30s. [calico 9607](https://github.com/projectcalico/calico/pull/9607) (@tomastigera)
- ebpf: additional conntrack counters [calico 9590](https://github.com/projectcalico/calico/pull/9590) (@tomastigera)
- ebpf: fixed routing from outside the cluster in EKS with aws-cni [calico 9569](https://github.com/projectcalico/calico/pull/9569) (@tomastigera)
- ebpf: end-2-end latency measurement within tc programs [calico 9545](https://github.com/projectcalico/calico/pull/9545) (@tomastigera)
- ebpf: improved autodetection of device hierarchy like bonds and vlans. tc is attached to the root and xdp to the leaves. [calico 9498](https://github.com/projectcalico/calico/pull/9498) (@sridhartigera)
- ebpf: fall back to non-CO-RE if CO-RE object does not load [calico 9456](https://github.com/projectcalico/calico/pull/9456) (@tomastigera)
- ebpf: support for log action in policy rules [calico 9452](https://github.com/projectcalico/calico/pull/9452) (@tomastigera)
- ebpf: calico special interfaces excluded from dataIfaceRegex [calico 9451](https://github.com/projectcalico/calico/pull/9451) (@tomastigera)
- ebpf: real IPs in bpf debug output with co-re enabled kernels [calico 9378](https://github.com/projectcalico/calico/pull/9378) (@tomastigera)
- eBPF: (on kernels that support it) conntrack expiry scanning is now done from a dedicated BPF program rather than from userspace. This is more efficient and reduces the possibility of races with the dataplane programs. [calico 9356](https://github.com/projectcalico/calico/pull/9356) (@fasaxc)
- ebpf: disable conntrack bypass by default (not needed for kernels 5.9+), exclude link-local from the bypass [calico 9159](https://github.com/projectcalico/calico/pull/9159) (@tomastigera)
