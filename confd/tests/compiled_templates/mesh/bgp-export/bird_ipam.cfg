# Generated by confd
function reject_disabled_pools ()
{
  if ( net ~ 192.168.2.0/24 ) then { reject; }
}

filter calico_export_to_bgp_peers {
  # filter code terminates when it calls `accept;` or `reject;`, call reject_disabled_pools() first, then apply_communities() and then calico_aggr()
  reject_disabled_pools();
  apply_communities();
  calico_aggr();

  if ( net ~ 192.168.1.0/24 ) then {
    accept;
  }
  # Skip 192.168.2.0/24 as BGP export is disabled for it
  if ( net ~ 192.168.3.0/24 ) then {
    accept;
  }
  reject;
}


filter calico_kernel_programming {

  if ( net ~ 192.168.1.0/24 ) then {
    krt_tunnel = "";
    accept;
  }

  if ( net ~ 192.168.2.0/24 ) then {
    krt_tunnel = "";
    accept;
  }

  if ( net ~ 192.168.3.0/24 ) then {
    krt_tunnel = "";
    accept;
  }

  accept;
}
